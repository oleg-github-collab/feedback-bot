# ü§ñ Feedback Bot - AI-Powered Employee Feedback System

–£–ª—å—Ç—Ä–∞–ø–æ—Ç—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –∑–±–æ—Ä—É —Ç–∞ –∞–Ω–∞–ª—ñ–∑—É –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Ñ—ñ–¥–±–µ–∫—É –ø—Ä–æ —Ä–æ–±–æ—Ç—É —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ –∑ –≥–ª–∏–±–æ–∫–∏–º AI –∞–Ω–∞–ª—ñ–∑–æ–º, real-time –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è–º–∏ —Ç–∞ —Ä–æ–∑—à–∏—Ä–µ–Ω–æ—é –∞–Ω–∞–ª—ñ—Ç–∏–∫–æ—é.

## üåü –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

### üì± Telegram –ë–æ—Ç
- **–ü—Ä–æ–¥—É–º–∞–Ω–∏–π UX —Ñ–ª–æ—É**: –í–∏–±—ñ—Ä —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞ ‚Üí –ó–∞–ø–∏—Å –∞—É–¥—ñ–æ ‚Üí –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –æ–±—Ä–æ–±–∫–∞
- **Inline –∫–Ω–æ–ø–∫–∏** –¥–ª—è –∑—Ä—É—á–Ω–æ–≥–æ –≤–∏–±–æ—Ä—É —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤
- **–ê–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è**: –î–æ—Å—Ç—É–ø —Ç—ñ–ª—å–∫–∏ –¥–ª—è –æ–¥–Ω–æ–≥–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞
- **–†–µ–∞–ª-—Ç–∞–π–º –æ–±—Ä–æ–±–∫–∞** –∞—É–¥—ñ–æ —á–µ—Ä–µ–∑ OpenAI API

### üß† AI –û–±—Ä–æ–±–∫–∞ (–†–æ–∑—à–∏—Ä–µ–Ω–∞)
- **Whisper API**: –¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü—ñ—è —É–∫—Ä–∞—ó–Ω—Å—å–∫–æ—é –º–æ–≤–æ—é
- **GPT-4o mini**: –ì–ª–∏–±–æ–∫–∏–π –∞–Ω–∞–ª—ñ–∑ –∑ –ø—Å–∏—Ö–æ–ª–æ–≥—ñ—á–Ω–∏–º–∏ —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä–∞–º–∏
- **Topics Extraction**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Ç–µ–º
- **Action Items**: –ö–æ–Ω–∫—Ä–µ—Ç–Ω—ñ –¥—ñ—ó –∑ –ø—Ä—ñ–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ —Ç–∞ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞–ª—å–Ω–∏–º–∏
- **Urgency & Impact Scores**: –û—Ü—ñ–Ω–∫–∞ —Ç–µ—Ä–º—ñ–Ω–æ–≤–æ—Å—Ç—ñ (0-1) —Ç–∞ –≤–∞–∂–ª–∏–≤–æ—Å—Ç—ñ (0-1)
- **Psychological Indicators**: stress level, motivation, burnout risk
- **Trend Detection**: improving/declining/stable
- **Recommended Follow-ups**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### üìä –†–æ–∑—à–∏—Ä–µ–Ω–∞ –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ (NEW!)
- **Heatmap**: Sentiment –ø–æ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞—Ö —Ç–∞ —á–∞—Å—É
- **Word Cloud**: –ù–∞–π—á–∞—Å—Ç—ñ—à—ñ —Å–ª–æ–≤–∞ –∑ —Ñ—ñ–¥–±–µ–∫—ñ–≤ (D3-cloud)
- **Timeline**: –î–µ—Ç–∞–ª—å–Ω–∞ —Ö—Ä–æ–Ω–æ–ª–æ–≥—ñ—è –∑ –≤—ñ–∑—É–∞–ª—å–Ω–∏–º –∫–æ–¥—É–≤–∞–Ω–Ω—è–º
- **Comparison Charts**: –ü–æ—Ä—ñ–≤–Ω—è–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –º—ñ–∂ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞–º–∏
- **Trend Lines**: –î–∏–Ω–∞–º—ñ–∫–∞ –∑–º—ñ–Ω sentiment/urgency/impact
- **Real-time Updates**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —á–µ—Ä–µ–∑ Phoenix LiveView + PubSub
- **Advanced Filters**: –ü–æ –¥–∞—Ç—ñ, sentiment, —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—É, urgency, impact
- **Full-text Search**: PostgreSQL full-text search –ø–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—è—Ö

### ‚ö° Performance & Infrastructure
- **Async Processing**: Oban –¥–ª—è background jobs –∑ retry –º–µ—Ö–∞–Ω—ñ–∑–º–æ–º
- **Redis Caching**: –®–≤–∏–¥–∫—ñ –∑–∞–ø–∏—Ç–∏ –∑ TTL –ø—ñ–¥—Ç—Ä–∏–º–∫–æ—é
- **Database Indices**: –û–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω—ñ queries + GIN index –¥–ª—è full-text search
- **Real-time**: Phoenix PubSub –¥–ª—è live updates
- **Docker**: Multi-stage build –¥–ª—è Railway deployment

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

```
feedback_bot/
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îú‚îÄ‚îÄ feedback_bot/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ application.ex          # OTP Application
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ repo.ex                 # Ecto Repo
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ employees/              # Employees context
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ employee.ex         # Employee schema
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ feedbacks/              # Feedbacks context
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ feedback.ex         # Feedback schema
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ analytics/              # Analytics context
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ snapshot.ex         # Analytics snapshot schema
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ trend_analyzer.ex   # Trend analysis logic
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ ai/                     # AI integration
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ whisper_client.ex   # Whisper API client
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gpt_client.ex       # GPT API client
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ bot/                    # Telegram bot
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ supervisor.ex       # Bot supervisor
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ handler.ex          # Message handler
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ state.ex            # User state management
‚îÇ   ‚îî‚îÄ‚îÄ feedback_bot_web/
‚îÇ       ‚îú‚îÄ‚îÄ endpoint.ex             # Phoenix endpoint
‚îÇ       ‚îú‚îÄ‚îÄ router.ex               # Routes
‚îÇ       ‚îú‚îÄ‚îÄ live/                   # LiveView pages
‚îÇ       ‚îÇ   ‚îú‚îÄ‚îÄ dashboard_live.ex
‚îÇ       ‚îÇ   ‚îî‚îÄ‚îÄ employees_live.ex
‚îÇ       ‚îî‚îÄ‚îÄ components/             # Reusable components
‚îú‚îÄ‚îÄ priv/
‚îÇ   ‚îî‚îÄ‚îÄ repo/
‚îÇ       ‚îî‚îÄ‚îÄ migrations/             # Database migrations
‚îú‚îÄ‚îÄ assets/                         # Frontend assets
‚îÇ   ‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.css                # Tailwind + custom styles
‚îÇ   ‚îî‚îÄ‚îÄ js/
‚îÇ       ‚îî‚îÄ‚îÄ app.js                 # Phoenix LiveView JS
‚îî‚îÄ‚îÄ config/                        # Configuration files
```

## üöÄ –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ Railway

### –ö—Ä–æ–∫ 1: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞

1. **–°—Ç–≤–æ—Ä—ñ—Ç—å –æ–±–ª—ñ–∫–æ–≤–∏–π –∑–∞–ø–∏—Å –Ω–∞ Railway**
   - –ü–µ—Ä–µ–π–¥—ñ—Ç—å –Ω–∞ https://railway.app
   - –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ GitHub

2. **–°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –ø—Ä–æ–µ–∫—Ç**
   - –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "New Project"
   - –û–±–µ—Ä—ñ—Ç—å "Deploy from GitHub repo"
   - –í–∏–±–µ—Ä—ñ—Ç—å –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

### –ö—Ä–æ–∫ 2: –î–æ–¥–∞–π—Ç–µ PostgreSQL

1. –£ –≤–∞—à–æ–º—É –ø—Ä–æ–µ–∫—Ç—ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "New"
2. –û–±–µ—Ä—ñ—Ç—å "Database" ‚Üí "PostgreSQL"
3. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä–∏—Ç—å –±–∞–∑—É –¥–∞–Ω–∏—Ö

### –ö—Ä–æ–∫ 3: –ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–£ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –ø—Ä–æ–µ–∫—Ç—É –¥–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ –∑–º—ñ–Ω–Ω—ñ:

#### –û–±–æ–≤'—è–∑–∫–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ:

```bash
# Database (–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è Railway)
DATABASE_URL=postgresql://...

# Phoenix
SECRET_KEY_BASE=<–∑–≥–µ–Ω–µ—Ä—É–π—Ç–µ —á–µ—Ä–µ–∑: mix phx.gen.secret>
PHX_HOST=your-app.railway.app

# Telegram Bot
TELEGRAM_BOT_TOKEN=<–æ—Ç—Ä–∏–º–∞–π—Ç–µ –≤—ñ–¥ @BotFather>
ALLOWED_USER_ID=<–≤–∞—à Telegram user ID>

# OpenAI
OPENAI_API_KEY=<–≤–∞—à OpenAI API –∫–ª—é—á>

# Environment
MIX_ENV=prod
```

#### –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ Telegram Bot Token:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ Telegram —Ç–∞ –∑–Ω–∞–π–¥—ñ—Ç—å [@BotFather](https://t.me/BotFather)
2. –ù–∞–¥—ñ—à–ª—ñ—Ç—å `/newbot`
3. –°–ª—ñ–¥—É–π—Ç–µ —ñ–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è–º
4. –ó–±–µ—Ä–µ–∂—ñ—Ç—å –æ—Ç—Ä–∏–º–∞–Ω–∏–π —Ç–æ–∫–µ–Ω

#### –Ø–∫ –¥—ñ–∑–Ω–∞—Ç–∏—Å—å —Å–≤—ñ–π Telegram User ID:

1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ [@userinfobot](https://t.me/userinfobot)
2. –ù–∞–¥—ñ—à–ª—ñ—Ç—å –±—É–¥—å-—è–∫–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
3. –ë–æ—Ç –ø–æ–∫–∞–∂–µ –≤–∞—à User ID

#### –Ø–∫ –æ—Ç—Ä–∏–º–∞—Ç–∏ OpenAI API Key:

1. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://platform.openai.com
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ API Keys
3. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π –∫–ª—é—á
4. –ü–æ–ø–æ–≤–Ω—ñ—Ç—å –±–∞–ª–∞–Ω—Å (–º—ñ–Ω—ñ–º—É–º $5)

### –ö—Ä–æ–∫ 4: –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è

1. **–ü–µ—Ä—à–∏–π –¥–µ–ø–ª–æ–π**:
   ```bash
   git push origin main
   ```
   Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø–æ—á–Ω–µ build —Ç–∞ deployment.

2. **–í–∏–∫–æ–Ω–∞–π—Ç–µ –º—ñ–≥—Ä–∞—Ü—ñ—ó**:
   –£ Railway CLI –∞–±–æ —á–µ—Ä–µ–∑ –≤–µ–±-—ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å:
   ```bash
   mix ecto.migrate
   ```

3. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å seeds**:
   ```bash
   mix run priv/repo/seeds.exs
   ```
   –¶–µ —Å—Ç–≤–æ—Ä–∏—Ç—å –ø–æ—á–∞—Ç–∫–æ–≤–∏—Ö —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤ –∑—ñ —Å–ø–∏—Å–∫—É.

### –ö—Ä–æ–∫ 5: –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞

1. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤–µ–±-–¥–æ–¥–∞—Ç–æ–∫**:
   - –í—ñ–¥–∫—Ä–∏–π—Ç–µ https://your-app.railway.app
   - –í–∏ –ø–æ–±–∞—á–∏—Ç–µ Dashboard

2. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ Telegram –±–æ—Ç–∞**:
   - –ó–Ω–∞–π–¥—ñ—Ç—å –≤–∞—à–æ–≥–æ –±–æ—Ç–∞ –≤ Telegram
   - –ù–∞–¥—ñ—à–ª—ñ—Ç—å `/start`
   - –û–±–µ—Ä—ñ—Ç—å —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞ —Ç–∞ –Ω–∞–¥—ñ—à–ª—ñ—Ç—å –≥–æ–ª–æ—Å–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

## üõ†Ô∏è –õ–æ–∫–∞–ª—å–Ω–∞ –†–æ–∑—Ä–æ–±–∫–∞

### –í–∏–º–æ–≥–∏

- Elixir 1.17+
- Erlang 27+
- PostgreSQL 14+
- Node.js 20+

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

1. **–ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π**:
   ```bash
   git clone <your-repo>
   cd feedback_bot
   ```

2. **–í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ**:
   ```bash
   mix deps.get
   cd assets && npm install && cd ..
   ```

3. **–°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª .env**:
   ```bash
   export DATABASE_URL="postgresql://postgres:postgres@localhost/feedback_bot_dev"
   export SECRET_KEY_BASE="changeme"
   export TELEGRAM_BOT_TOKEN="your_token"
   export ALLOWED_USER_ID="your_telegram_id"
   export OPENAI_API_KEY="your_openai_key"
   ```

4. **–°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–∞ –º—ñ–≥—Ä—É–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–∏—Ö**:
   ```bash
   mix ecto.create
   mix ecto.migrate
   mix run priv/repo/seeds.exs
   ```

5. **–ó–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä**:
   ```bash
   source .env
   mix phx.server
   ```

6. –í—ñ–¥–∫—Ä–∏–π—Ç–µ http://localhost:4000

## üìñ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### Telegram –ë–æ—Ç

1. **–ó–∞–ø—É—Å–∫**: –ù–∞–¥—ñ—à–ª—ñ—Ç—å `/start`
2. **–í–∏–±—ñ—Ä —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞**: –û–±–µ—Ä—ñ—Ç—å –∑—ñ —Å–ø–∏—Å–∫—É
3. **–ó–∞–ø–∏—Å —Ñ—ñ–¥–±–µ–∫—É**: –ù–∞–¥—ñ—à–ª—ñ—Ç—å –≥–æ–ª–æ—Å–æ–≤–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
4. **–û—Ç—Ä–∏–º–∞–Ω–Ω—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É**: –ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –æ–±—Ä–æ–±–∏—Ç—å –∞—É–¥—ñ–æ —Ç–∞ –ø–æ–∫–∞–∂–µ –∞–Ω–∞–ª—ñ–∑

### –í–µ–±-–¥–æ–¥–∞—Ç–æ–∫

#### Dashboard
- –ü–µ—Ä–µ–≥–ª—è–¥ –∫–ª—é—á–æ–≤–∏—Ö –º–µ—Ç—Ä–∏–∫ (–¥–µ–Ω—å/—Ç–∏–∂–¥–µ–Ω—å/–º—ñ—Å—è—Ü—å)
- –ì—Ä–∞—Ñ—ñ–∫ —Ç—Ä–µ–Ω–¥—ñ–≤ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ
- –û—Å—Ç–∞–Ω–Ω—ñ —Ñ—ñ–¥–±–µ–∫–∏
- –¢–æ–ø –ø—Ä–æ–±–ª–µ–º–∏
- AI —ñ–Ω—Å–∞–π—Ç–∏

#### –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –°–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞–º–∏
- –î–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–∏—Ö —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫—ñ–≤
- –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó
- –ê–∫—Ç–∏–≤–∞—Ü—ñ—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü—ñ—è
- –ü–µ—Ä–µ–≥–ª—è–¥ –¥–µ—Ç–∞–ª—å–Ω–æ—ó —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏

#### –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞
- –¢–∏–∂–Ω–µ–≤—ñ —Ç–∞ –º—ñ—Å—è—á–Ω—ñ –∑–≤—ñ—Ç–∏
- –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –ø–µ—Ä—ñ–æ–¥—ñ–≤
- –í–∏—è–≤–ª–µ–Ω–Ω—è —Ç—Ä–µ–Ω–¥—ñ–≤
- –ö–æ—Ä–µ–ª—è—Ü—ñ—ó –º—ñ–∂ –ø—Ä–æ–±–ª–µ–º–∞–º–∏
- –ó–≤'—è–∑–∫–∏ –º—ñ–∂ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞–º–∏

## üîß –î–æ–¥–∞—Ç–∫–æ–≤—ñ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ü–ª–∞–Ω—É–≤–∞–ª—å–Ω–∏–∫ –ê–Ω–∞–ª—ñ—Ç–∏–∫–∏

–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∫–æ–Ω—É—î –∞–Ω–∞–ª—ñ–∑:
- **–©–æ–¥–Ω—è –æ 00:00**: –ê–Ω–∞–ª—ñ–∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –¥–Ω—è
- **–©–æ–Ω–µ–¥—ñ–ª—ñ –æ 23:00**: –¢–∏–∂–Ω–µ–≤–∏–π –∞–Ω–∞–ª—ñ–∑
- **1-–≥–æ —á–∏—Å–ª–∞ –æ 01:00**: –ú—ñ—Å—è—á–Ω–∏–π –∞–Ω–∞–ª—ñ–∑

–ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –≤ `config/config.exs`:

```elixir
config :feedback_bot, FeedbackBot.Scheduler,
  jobs: [
    {"0 0 * * *", {FeedbackBot.Analytics.TrendAnalyzer, :analyze_daily, []}},
    {"0 23 * * 0", {FeedbackBot.Analytics.TrendAnalyzer, :analyze_weekly, []}},
    {"0 1 1 * *", {FeedbackBot.Analytics.TrendAnalyzer, :analyze_monthly, []}}
  ]
```

### –ö–∞—Å—Ç–æ–º—ñ–∑–∞—Ü—ñ—è AI –ü—Ä–æ–º–ø—Ç—ñ–≤

–í–∏ –º–æ–∂–µ—Ç–µ –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ –ø—Ä–æ–º–ø—Ç–∏ –¥–ª—è GPT —É —Ñ–∞–π–ª—ñ `lib/feedback_bot/ai/gpt_client.ex`:

```elixir
system_prompt = """
–¢–≤—ñ–π –∫–∞—Å—Ç–æ–º–Ω–∏–π –ø—Ä–æ–º–ø—Ç...
"""
```

## üêõ Troubleshooting

### –ë–æ—Ç –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `TELEGRAM_BOT_TOKEN`
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –±–æ—Ç –∑–∞–ø—É—â–µ–Ω–∏–π: –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ Railway
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —â–æ –≤–∞—à `ALLOWED_USER_ID` –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π

### –ü–æ–º–∏–ª–∫–∏ OpenAI API
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `OPENAI_API_KEY`
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ —É –≤–∞—Å —î –∫—Ä–µ–¥–∏—Ç–∏ –Ω–∞ –±–∞–ª–∞–Ω—Å—ñ
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª—ñ–º—ñ—Ç–∏ rate limit

### –ü–æ–º–∏–ª–∫–∏ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—å —â–æ –º—ñ–≥—Ä–∞—Ü—ñ—ó –≤–∏–∫–æ–Ω–∞–Ω—ñ: `mix ecto.migrate`
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `DATABASE_URL`

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–∞–Ω–∏—Ö

### Employees (–°–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∏)
- `name`: –Ü–º º—è —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞
- `email`: Email (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)
- `is_active`: –ß–∏ –∞–∫—Ç–∏–≤–Ω–∏–π —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫

### Feedbacks (–§—ñ–¥–±–µ–∫–∏)
- `employee_id`: –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞
- `transcription`: –¢–µ–∫—Å—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü—ñ—ó
- `summary`: –†–µ–∑—é–º–µ –≤—ñ–¥ AI
- `sentiment_score`: –û—Ü—ñ–Ω–∫–∞ —Ç–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—ñ (-1.0 –¥–æ 1.0)
- `sentiment_label`: positive/neutral/negative
- `issues`: –ú–∞—Å–∏–≤ –≤–∏—è–≤–ª–µ–Ω–∏—Ö –ø—Ä–æ–±–ª–µ–º
- `strengths`: –ú–∞—Å–∏–≤ —Å–∏–ª—å–Ω–∏—Ö —Å—Ç–æ—Ä—ñ–Ω
- `improvement_areas`: –°—Ñ–µ—Ä–∏ –¥–ª—è –ø–æ–∫—Ä–∞—â–µ–Ω–Ω—è

### Analytics Snapshots (–ê–Ω–∞–ª—ñ—Ç–∏—á–Ω—ñ –∑–Ω—ñ–º–∫–∏)
- `period_type`: daily/weekly/monthly
- `avg_sentiment`: –°–µ—Ä–µ–¥–Ω—è —Ç–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å
- `sentiment_trend`: –¢—Ä–µ–Ω–¥ –ø–æ—Ä—ñ–≤–Ω—è–Ω–æ –∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—ñ–º –ø–µ—Ä—ñ–æ–¥–æ–º
- `top_issues`: –¢–æ–ø –ø—Ä–æ–±–ª–µ–º–∏
- `issue_correlations`: –ö–æ—Ä–µ–ª—è—Ü—ñ—ó –º—ñ–∂ –ø—Ä–æ–±–ª–µ–º–∞–º–∏
- `employee_correlations`: –ó–≤'—è–∑–∫–∏ –º—ñ–∂ —Å–ø—ñ–≤—Ä–æ–±—ñ—Ç–Ω–∏–∫–∞–º–∏
- `ai_insights`: AI —ñ–Ω—Å–∞–π—Ç–∏
- `recommendations`: –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

## üéØ Roadmap

- [ ] –ï–∫—Å–ø–æ—Ä—Ç –∑–≤—ñ—Ç—ñ–≤ —É PDF
- [ ] Email –Ω–æ—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó
- [ ] –ë–∞–≥–∞—Ç–æ–º–æ–≤–Ω—ñ—Å—Ç—å
- [ ] –†–æ–∑—à–∏—Ä–µ–Ω–∞ –≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è –¥–∞–Ω–∏—Ö (Chart.js)
- [ ] Webhook —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—ó
- [ ] Mobile app

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

–°—Ç–≤–æ—Ä–µ–Ω–æ –∑ ‚ù§Ô∏è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é Claude Code
